<!DOCTYPE html>
<html lang="en" style="height:100%">
	<head>
		<title>Physiome Portal</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>			
			body {
				font-family: Monospace;
				background-color: #000;
				color: #fff;
				margin: 0px;
				overflow: hidden;
			}
			#info {
				color: #fff;
				position: absolute;
				top: 10px;
				width: 100%;
				text-align: center;
				z-index: 100;
				display:block;
			}
			#info a, .button { color: #f00; font-weight: bold; text-decoration: underline; cursor: pointer }			
		</style>
		<link rel="stylesheet" href="styles/my_styles.css">
		<link rel="stylesheet" href="styles/bootstrap.min.css">
		<link rel="stylesheet" href="styles/w3.css">
		<script>
	    	var dojoConfig = {
				async: true,
				// This code registers the correct location of the "demo" package
				// so we can load Dojo from the CDN whilst still being able to
				// load local modules
				packages: [{
					name: "js",
					location: location.pathname.replace(/\/[^/]+$/, '')  + '/js'
				}]
			};
    	</script>
    	<script src="js/html-imports.min.js"></script>
	</head>

	<body style="height:100%;" id="mainBody">
		<div style="position:absolute;height:100%;width:100%">
				
			<div id="tooltipcontainer">
				<div class="tooltip" id="tip">
	  				<span class="tooltiptext" id="tiptext"> Tooltip text</span>
				</div>
			</div>
	
			<div id="bodyDisplayPort" class="bodyDisplayPortCollapse">
			</div>		
		
			<div id="organsDisplayPort" class="organsDisplayPortCollapse">
			</div>
			
			<div id="tissueDisplayPort" class="tissueDisplayPortCollapse">
			</div>
			
			<div id="cellDisplayPort" class="cellDisplayPortCollapse">
			</div>
			
			<div id="modelDisplayPort" class="modelDisplayPortCollapse">
			</div>
		</div>

		<script src="js/three.min.js"></script>
		<script src="js/OBJLoader.js"></script>
		<script src="js/STLLoader.js"></script>
		<script src="js/pjp.js"></script>
		<script src="js/zinc_threejs_control.js"></script>
		<script src="js/zinc_3js_renderer.js"></script>
		<script src="js/dat.gui.js"></script>
		<script src="js/dat.gui.removeFolder.js"></script>
		<link rel="stylesheet" type="text/css" href="styles/dat-gui-swec.css">
		<script src="js/modelsLoader.js"></script>
		<script src="js/bodyRenderer.js"></script>
		<script src="js/organsRenderer.js"></script>
		<script src="js/tissueRenderer.js"></script>
		<script src="js/cell_panel.js"></script>
		<script src="js/model_panel.js"></script>
		<script src="js/svgController.js"></script>
		<script>
			var bodyViewer = undefined;
			var organsViewer = undefined;
			var tissueViewer = undefined;
			var cellPanel = undefined;
			var modelPanel = undefined;
			var tooltipcontainerElement = document.getElementById('tooltipcontainer');
			var tipElement = document.getElementById('tip');
			var tiptextElement = document.getElementById('tiptext');
			
			var systemMetaReadyCallback = function() {
				return function() {
					bodyViewer.readSystemMeta();
				}
			}
			
			bodyViewer = new PJP.BodyViewer("bodyDisplayPort");			
			organsViewer = new PJP.OrgansViewer("organsDisplayPort");
			var modelsLoader = new PJP.ModelsLoader();
			modelsLoader.addSystemMetaIsReadyCallback(systemMetaReadyCallback());
			modelsLoader.initialiseLoading();
			tissueViewer = new PJP.TissueViewer("tissueDisplayPort");
			cellPanel = new PJP.CellPanel("cellDisplayPort");
			modelPanel = new PJP.ModelPanel("modelDisplayPort");


		</script>

	</body>
</html>
